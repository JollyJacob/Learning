
<script src="../tinytest.js"></script>
<script src="adder.js"></script>
<script>


function map(array, callback, bindToThis) {
    if (bindToThis) {
        callback = callback.bind(bindToThis);
    }
    newArray = [];
    for (var i = 0; i < array.length; i++) {
        if (i in array) {
            newArray[i] = callback(array[i]);
        }
    }
    return newArray;
}

tests({

  'It should return an array with elements mapped according to callback function': function() {
    var array = [1, 6, , -5, 4];
    var expectedResult = [2, 12, , -10, 8];
    var actualResult = map(array, function double(item) {
        return item*2;
    });
    eq(expectedResult.length, actualResult.length);
    for (var i = 0; i < expectedResult.length; i++) {
        eq(expectedResult[i], actualResult[i]);
    }
  }

});
</script>
